<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="ุชุทุจูู ููููุฏ ุฃูุฑุฏุฑุงุช ุงูุณูุฏูุชุดุงุช ุงููุตุฑูุฉ">
    <meta name="theme-color" content="#3b2a1a">
    <title>ุงููุงุญู ูุนุชุตู - ููููุฏ ุงูุฃูุฑุฏุฑุงุช</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+Arabic:wght@400;600;700&family=Noto+Sans+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="bg-grain"></div>

    <!-- Top Banner -->
    <div class="banner">
        <p class="banner-main">ุตูู ุนูู ุงููุจู ๏ทบ</p>
        <p class="banner-sub">ูุนุชุตู ุจูุญุจ ูุงูุง ู ุจุงุจุง</p>
    </div>

    <!-- Header -->
    <div class="header">
        <div class="header-title">
            <div class="header-icon">๐ฅ</div>
            <h1>ุงููุงุญู ูุนุชุตู</h1>
        </div>
        <div class="header-actions">
            <button class="reset-btn" id="resetBtn" onclick="resetAllOrders()" style="display:none;" title="ุฅุนุงุฏุฉ ุชุนููู">
                <span class="reset-icon">โบ</span>
            </button>
            <button class="mode-toggle" id="modeToggle" onclick="toggleMode()">
                <span class="mode-icon">๐ฅ</span>
            </button>
            <div class="badge" id="totalBadge" style="display:none;">
                <span id="totalCount">0</span>
            </div>
        </div>
    </div>

    <!-- Persons Mode Section -->
    <div class="persons-section" id="personsSection" style="display:none;">
        <div class="persons-header">
            <h3>ุงุฎุชุฑ ุงูุดุฎุต</h3>
            <div class="persons-header-actions">
                <button class="finish-all-btn" onclick="finishAllOrders()">โ ุฅููุงุก ุงูุทูุจุงุช</button>
                <button class="manage-persons-btn" onclick="openManagePersons()">ุฅุฏุงุฑุฉ ุงูุฃุดุฎุงุต</button>
            </div>
        </div>
        <div class="persons-list" id="personsList"></div>
    </div>

    <!-- Current Person Ordering Banner -->
    <div class="ordering-banner" id="orderingBanner" style="display:none;">
        <div class="ordering-info">
            <span class="ordering-label">ุงูุทูุจ ูู</span>
            <span class="ordering-person" id="orderingPersonName"></span>
        </div>
        <div class="ordering-actions">
            <button class="next-person-btn" onclick="nextPerson()">ุงูุชุงูู โ</button>
            <button class="finish-ordering-btn" onclick="finishOrdering()">ุฅููุงุก</button>
        </div>
    </div>

    <!-- Tab Navigation -->
    <div class="tabs" id="tabsSection">
        <button class="tab active" data-tab="balady" onclick="switchTab('balady')"><span class="tab-icon">๐ซ</span> ุจูุฏู</button>
        <button class="tab" data-tab="shami" onclick="switchTab('shami')"><span class="tab-icon">๐ฅ</span> ุดุงูู</button>
        <button class="tab" data-tab="appetizer" onclick="switchTab('appetizer')"><span class="tab-icon">๐ฅ</span> ููุจูุงุช</button>
        <button class="tab" data-tab="jar" onclick="switchTab('jar')"><span class="tab-icon">๐ซ</span> ุนูุจ</button>
    </div>

    <!-- Tab Contents -->
    <div class="content">
        <div id="balady" class="tab-content active"></div>
        <div id="shami" class="tab-content"></div>
        <div id="appetizer" class="tab-content"></div>
        <div id="jar" class="tab-content"></div>
    </div>

    <!-- Floating Generate Button -->
    <button class="floating-btn" id="generateBtn" onclick="generateOrder()">
        ๐ ูุณุฎ ุงูุฃูุฑุฏุฑ ยท <span id="floatingCount">0</span>
    </button>

    <!-- Order Preview Modal -->
    <div class="modal" id="orderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>๐ ุทูุจู</h2>
                <button class="close-btn" onclick="closeModal()">ร</button>
            </div>
            <div class="order-text" id="orderText">ูุง ุชูุฌุฏ ุนูุงุตุฑ</div>
            <div class="payment-section">
                <h3 class="payment-title">ุทุฑููุฉ ุงูุฏูุน</h3>
                <div class="payment-options">
                    <label class="payment-option">
                        <input type="radio" name="payment" value="instapay" checked onchange="updatePaymentPreview()">
                        <span class="payment-label-text">๐ณ ุงูุณุชุง ุจุงู</span>
                    </label>
                    <label class="payment-option">
                        <input type="radio" name="payment" value="cash" onchange="updatePaymentPreview()">
                        <span class="payment-label-text">๐ต ูุงุด</span>
                    </label>
                </div>
            </div>
            <button class="copy-btn" onclick="copyOrder()">๐ ูุณุฎ ุงูุฃูุฑุฏุฑ</button>
            <div class="success-msg" id="successMsg">โ ุชู ุงููุณุฎ ุจูุฌุงุญ!</div>
        </div>
    </div>

    <!-- Manage Persons Modal -->
    <div class="modal" id="managePersonsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>๐ฅ ุฅุฏุงุฑุฉ ุงูุฃุดุฎุงุต</h2>
                <button class="close-btn" onclick="closeManagePersons()">ร</button>
            </div>
            <div class="persons-manager">
                <div class="add-person-section">
                    <input type="text" id="newPersonInput" placeholder="ุงุณู ุงูุดุฎุต ุงูุฌุฏูุฏ" class="person-input">
                    <button class="add-person-btn" onclick="addNewPerson()">ุฅุถุงูุฉ +</button>
                </div>
                <div class="persons-list-manager" id="personsListManager"></div>
            </div>
            <button class="copy-btn" onclick="closeManagePersons()">ุชู</button>
        </div>
    </div>

    <!-- Person Order Review Modal -->
    <div class="modal" id="reviewPersonModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="reviewModalTitle">๐ ุทูุจ ุงูุดุฎุต</h2>
                <button class="close-btn" onclick="closeReviewModal()">ร</button>
            </div>
            <div class="order-text" id="reviewOrderText" style="min-height:60px;"></div>
            <button class="copy-btn" onclick="copyReviewOrder()">๐ ูุณุฎ ุงูุทูุจ</button>
            <div class="success-msg" id="reviewSuccessMsg">โ ุชู ุงููุณุฎ ุจูุฌุงุญ!</div>
        </div>
    </div>

    <!-- Last Order Modal -->
    <div class="modal" id="lastOrderModal">
        <div class="modal-content confirmation-modal">
            <div class="modal-header">
                <h2>๐ ููุณ ุงูุทูุจ ุงูุณุงุจู</h2>
                <button class="close-btn" onclick="closeLastOrderModal()">ร</button>
            </div>
            <div class="confirmation-message">
                <p id="lastOrderPersonLabel"></p>
                <div id="lastOrderPreview" class="order-text" style="min-height:60px; margin:12px 0;"></div>
                <p class="confirm-question">ูู ุชุฑูุฏ ุฅุถุงูุฉ ููุณ ุงูุทูุจ ุงูุณุงุจูุ</p>
            </div>
            <div class="confirmation-actions">
                <button class="cancel-btn" onclick="closeLastOrderModal()">ุฅูุบุงุก</button>
                <button class="confirm-apply-btn" onclick="confirmApplyLastOrder()">ูุนูุ ุฃุถูู</button>
            </div>
        </div>
    </div>

    <!-- Reset Confirmation Modal -->
    <div class="modal" id="resetConfirmModal">
        <div class="modal-content confirmation-modal">
            <div class="modal-header">
                <h2>โ๏ธ ุชุฃููุฏ ุฅุนุงุฏุฉ ุงูุชุนููู</h2>
                <button class="close-btn" onclick="closeResetConfirm()">ร</button>
            </div>
            <div class="confirmation-message">
                <p>ูู ุฃูุช ูุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุงูุทูุจุงุชุ</p>
                <p class="warning-text">ุณูุชู ุญุฐู ุฌููุน ุงูุงุฎุชูุงุฑุงุช ููู ุงูุฃุดุฎุงุต!</p>
            </div>
            <div class="confirmation-actions">
                <button class="cancel-btn" onclick="closeResetConfirm()">ุฅูุบุงุก</button>
                <button class="confirm-reset-btn" onclick="confirmReset()">ูุนูุ ุฅุนุงุฏุฉ ุงูุชุนููู</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
